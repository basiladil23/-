<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø§Ù„ÙØ§Ø±Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #2c3e50;
      --primary-light: #34495e;
      --secondary: #3498db;
      --success: #2ecc71;
      --warning: #f39c12;
      --danger: #e74c3c;
      --light: #ecf0f1;
      --white: #ffffff;
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 8px 20px rgba(0, 0, 0, 0.15);
      --transition: all 0.3s ease;
      --border-radius: 12px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Cairo', sans-serif;
    }

    body {
      background: #f8fafc;
      color: #333;
      min-height: 100vh;
      direction: rtl;
      font-size: 14px;
      overflow-x: hidden;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--primary);
      padding: 12px 20px;
      color: white;
      box-shadow: var(--shadow-md);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
    }
    .user-info img {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.3);
    }
    .logo {
      font-size: 1.4rem;
      font-weight: 700;
      color: white;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .logo i {
      font-size: 1.2rem;
    }

    /* Navigation */
    nav.nav {
      display: flex;
      gap: 8px;
      padding: 10px 15px;
      background: var(--light);
      border-bottom: 1px solid #dcdde1;
      flex-wrap: wrap;
    }
    nav.nav a {
      text-decoration: none;
      color: var(--primary);
      font-weight: 600;
      padding: 8px 14px;
      border-radius: 6px;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 6px;
    }
    nav.nav a:hover, nav.nav a.active {
      background: var(--primary-light);
      color: white;
    }
    nav.nav a i {
      font-size: 1.1rem;
    }

    /* Dropdown */
    .dropdown {
      position: relative;
      display: inline-block;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background: var(--white);
      min-width: 240px;
      box-shadow: var(--shadow-lg);
      z-index: 1000;
      border-radius: 8px;
      overflow: hidden;
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .dropdown:hover .dropdown-content {
      display: block;
    }
    .dropdown-content a {
      color: var(--primary);
      padding: 10px 15px;
      text-decoration: none;
      display: block;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .dropdown-content a:hover {
      background: var(--primary-light);
      color: white;
    }
    .dropdown-divider {
      height: 1px;
      background: #ecf0f1;
      margin: 8px 0;
    }
    .dropdown-content .submenu {
      padding-right: 20px;
      border-right: 2px solid var(--light);
    }
    .dropdown-content .submenu a {
      color: var(--primary-light);
      padding: 8px 15px;
      font-size: 0.95rem;
    }
    .dropdown-content .submenu a:hover {
      color: white;
      background: var(--secondary);
    }
    .dropdown-content hr {
      margin: 5px 0;
      border: 0;
      border-top: 1px solid #ecf0f1;
    }

    /* Main */
    main {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 20px;
    }
    .page-title {
      font-size: 1.8rem;
      color: var(--primary);
      margin-bottom: 25px;
      text-align: right;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .page-title i {
      font-size: 1.5rem;
      color: var(--secondary);
    }

    /* Stats Cards */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 18px;
      margin-bottom: 25px;
    }
    .stat-card {
      padding: 18px 15px;
      border-radius: var(--border-radius);
      text-align: center;
      box-shadow: var(--shadow-md);
      cursor: pointer;
      transition: var(--transition);
      color: var(--white);
      display: flex;
      flex-direction: column;
      justify-content: center;
      height: 140px;
      position: relative;
      overflow: hidden;
    }
    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.3);
    }
    .stat-card:hover::before {
      background: white;
    }
    .stat-card .stat-value {
      font-size: 1.9rem;
      font-weight: 700;
      margin-bottom: 6px;
    }
    .stat-card .stat-label {
      font-size: 0.95rem;
      margin-bottom: 8px;
      opacity: 0.95;
    }
    .stat-card .stat-action {
      font-size: 0.85rem;
      text-decoration: none;
      cursor: pointer;
      transition: var(--transition);
      margin-top: 5px;
      font-weight: 600;
      opacity: 0.9;
    }
    .stat-card .stat-action:hover {
      opacity: 1;
      text-decoration: underline;
    }

    /* Colors */
    .clients-card { background: linear-gradient(135deg, #2c3e50 0%, #1a252f 100%); }
    .approval-card { background: linear-gradient(135deg, #16a085 0%, #138a74 100%); }
    .contracts-card { background: linear-gradient(135deg, #3498db 0%, #2573a7 100%); }
    .late-contracts-card { background: linear-gradient(135deg, #f39c12 0%, #d6891d 100%); }
    .cv-card { background: linear-gradient(135deg, #d35400 0%, #b94a00 100%); }
    .warranty-card { background: linear-gradient(135deg, #2ecc71 0%, #239454 100%); }
    .access-card { background: linear-gradient(135deg, #8e44ad 0%, #793a93 100%); }
    .accommodation-card { background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%); }
    .accounting-card { background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); }
    .financial-reports-card { background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); }

    /* Charts & Tables */
    .charts-grid {
      display: grid;
      grid-template-columns: 1fr 1fr; /* ØªØºÙŠÙŠØ± Ø§Ù„Ù†Ø³Ø¨Ø© Ù…Ù† 1fr 2fr Ø¥Ù„Ù‰ 1fr 1fr Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø±Ø³Ù…ÙŠÙ† Ø¨Ù†ÙØ³ Ø§Ù„Ø­Ø¬Ù… */
      gap: 25px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙØ±Ø§Øº Ø¨ÙŠÙ† Ø§Ù„Ø±Ø³Ù…ÙŠÙ† */
      margin: 25px 0;
    }
    .chart-container {
      background: var(--white);
      border-radius: var(--border-radius);
      padding: 25px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø´ÙˆØ© Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø±Ø³Ù… Ø£ÙƒØ¨Ø± */
      box-shadow: var(--shadow-md);
      height: 400px; /* ØªØ­Ø¯ÙŠØ¯ Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ù„Ù„Ø­Ø§ÙˆÙŠØ© */
      display: flex;
      flex-direction: column;
    }
    .chart-title {
      font-size: 1.1rem;
      color: var(--primary);
      margin-bottom: 15px;
      text-align: right;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .chart-actions {
      display: flex;
      gap: 10px;
    }
    .chart-actions button {
      background: var(--light);
      border: none;
      border-radius: 4px;
      padding: 3px 8px;
      font-size: 0.8rem;
      cursor: pointer;
    }
    canvas {
      max-width: 100%;
      height: 320px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ Ù…Ù† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¥Ù„Ù‰ 320 Ø¨ÙƒØ³Ù„ */
      margin-top: auto; /* Ø¯ÙØ¹ Ø§Ù„Ø±Ø³Ù… Ù„Ø£Ø³ÙÙ„ Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ù…Ø³Ø§Ø­Ø© Ù…ØªØ³Ø§ÙˆÙŠØ© */
    }

    /* Table */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      border-radius: var(--border-radius);
      overflow: hidden;
      background: var(--white);
      box-shadow: var(--shadow-md);
    }
    th, td {
      padding: 14px 16px;
      text-align: right;
      border-bottom: 1px solid #e0e0e0;
    }
    th {
      background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
      color: var(--primary);
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.85rem;
      cursor: pointer;
      transition: var(--transition);
    }
    th:hover {
      background: linear-gradient(to bottom, #f1f5f9, #e2e8f0);
    }
    tr:hover {
      background: #f8fafc;
    }
    .sort-icon {
      margin: 0 4px;
      font-size: 0.8rem;
      opacity: 0.6;
    }

    /* Confirmation Modal */
    .confirmation-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .confirmation-content {
      background: var(--white);
      padding: 25px;
      border-radius: 14px;
      width: 420px;
      text-align: center;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
    }
    .confirmation-content h3 {
      margin-bottom: 15px;
      color: var(--danger);
      font-size: 1.4rem;
      font-weight: 700;
    }
    .confirmation-content p {
      margin-bottom: 25px;
      font-size: 1.1rem;
      color: #555;
    }
    .confirmation-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
    }
    .confirmation-buttons button {
      padding: 10px 25px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      min-width: 120px;
    }
    .cancel-btn { background: #95a5a6; color: white; }
    .confirm-btn { background: var(--danger); color: white; }
    .confirmation-buttons button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    /* Toast Notification */
    .toast {
      position: fixed;
      top: 20px;
      left: 20px;
      background: var(--success);
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1100;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.4s ease;
    }
    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }

    /* Form Overlay */
    .form-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.35);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .form-container {
      background: var(--white);
      padding: 25px 30px;
      border-radius: 14px;
      max-width: 800px;
      width: 90%;
      text-align: right;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }
    .form-container h2 {
      margin-bottom: 20px;
      color: var(--primary);
      font-size: 1.6rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .form-container label {
      display: block;
      margin: 12px 0 6px;
      font-weight: 600;
      color: var(--primary);
    }
    .form-container input,
    .form-container select,
    .form-container textarea {
      width: 100%;
      padding: 11px 14px;
      margin-bottom: 16px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fafbfd;
    }
    .form-container button {
      padding: 12px 25px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      background: var(--secondary);
      color: var(--white);
      box-shadow: 0 4px 6px rgba(52, 152, 219, 0.2);
    }
    .close-btn {
      float: left;
      cursor: pointer;
      font-weight: 700;
      color: #b2bec3;
      font-size: 1.8rem;
    }
    .close-btn:hover {
      color: var(--danger);
    }

    /* Form Sections */
    .form-section {
      margin-bottom: 25px;
      padding-bottom: 20px;
      border-bottom: 1px solid #eee;
    }
    .form-section h3 {
      color: var(--primary);
      margin-bottom: 15px;
      font-size: 1.2rem;
      font-weight: 600;
    }
    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    /* File Upload */
    .file-upload {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 16px;
    }
    .file-upload input {
      display: none;
    }
    .file-upload label {
      background: var(--light);
      padding: 10px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
      margin: 0;
    }
    .file-name {
      color: #718096;
      font-size: 0.9rem;
    }

    /* Responsive */
    @media (max-width: 1100px) {
      .charts-grid { 
        grid-template-columns: 1fr; 
        height: auto; /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø«Ø§Ø¨Øª Ù„Ù„Ù‡Ø§ØªÙ */
      }
      .chart-container {
        height: auto;
        min-height: 350px; /* Ø§Ø±ØªÙØ§Ø¹ Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù‡Ø§ØªÙ */
      }
    }
    @media (max-width: 768px) {
      .stats-grid { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); }
      .form-row { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="user-info">
      <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User">
      <span>Ù…ÙˆØ¸Ù</span>
    </div>
    <div class="logo">
      <i class="fas fa-shield-alt"></i> Ø§Ù„ÙØ§Ø±Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav">
    <a href="index.html" class="active">
      <i class="dripicons-home"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
    </a>
    
    <div class="dropdown">
      <a href="#">
        <i class="dripicons-checklist"></i> Ø§Ø³Ø§Ø³ÙŠØ© 
        <i class="mdi mdi-chevron-down mdi-drop"></i>
      </a>
      <div class="dropdown-content">
        <a href="https://osesapp.com/afaq-co/role">Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</a>
        <a href="https://osesapp.com/afaq-co/nationalitie">Ø§Ù„Ø¬Ù†Ø³ÙŠØ§Øª</a>
        <a href="https://osesapp.com/afaq-co/airport">Ø§Ù„Ù…Ø·Ø§Ø±Ø§Øª</a>
        <a href="https://osesapp.com/afaq-co/offices">Ø§Ù„Ù…ÙƒØ§ØªØ¨</a>
        <a href="https://osesapp.com/afaq-co/profession">Ø§Ù„Ù…Ù‡Ù†Ø©</a>
        <a href="https://osesapp.com/afaq-co/users">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</a>
        <a href="https://osesapp.com/afaq-co/status">Ø§Ù„Ø­Ø§Ù„Ø©</a>
        <a href="https://osesapp.com/afaq-co/countrys">Ø§Ù„Ø¯ÙˆÙ„</a>
        <a href="https://osesapp.com/afaq-co/religion">Ø§Ù„Ø¯ÙŠØ§Ù†Ø©</a>
        <a href="https://osesapp.com/afaq-co/terms-and-advantage">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ù…Ø²Ø§ÙŠØ§</a>
        <a href="https://osesapp.com/afaq-co/qualifications-and-experience">Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª ÙˆØ§Ù„Ø®Ø¨Ø±Ø©</a>
        <a href="https://osesapp.com/afaq-co/marketer">Ø§Ù„Ù…Ø³ÙˆÙ‚ÙŠÙ†</a>
        <a href="https://osesapp.com/afaq-co/accommodation-type">Ù†ÙˆØ¹ Ø§Ù„Ø§ÙŠÙˆØ§Ø¡</a>
        <a href="https://osesapp.com/afaq-co/visa-type">Ù†ÙˆØ¹ Ø§Ù„ØªØ£Ø´ÙŠØ±Ù‡</a>
        <a href="https://osesapp.com/afaq-co/main-settings">Ø§Ù„Ø§Ø¹Ø¯Ø§Ø¯Ø§Øª</a>
        <a href="https://osesapp.com/afaq-co/activity-log">Ø³Ø¬Ù„Ø§Øª Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</a>
      </div>
    </div>
    
    <div class="dropdown">
      <a href="#">
        <i class="dripicons-meter"></i> Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ 
        <i class="mdi mdi-chevron-down mdi-drop"></i>
      </a>
      <div class="dropdown-content">
        <a href="https://osesapp.com/afaq-co/office-work/cv">Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</a>
        <a href="https://osesapp.com/afaq-co/office-work/customer">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a>
        <a href="https://osesapp.com/afaq-co/office-work/contract-list">Ø§Ù„Ø¹Ù‚ÙˆØ¯</a>
        <a href="https://osesapp.com/afaq-co/office-work/contract-list?underwarranty=U2VwMjAyNS1NZz09">
          ØªØ­Øª Ø§Ù„Ø¶Ù…Ø§Ù†
        </a>
        <a href="https://osesapp.com/afaq-co/office-work/contract-list?arrivals=U2VwMjAyNS1NZz09">
          Ø§Ù„ÙˆØµÙˆÙ„
        </a>
      </div>
    </div>
    
    <div class="dropdown">
      <a href="#">
        <i class="dripicons-help"></i> Ø§Ù„Ø¯Ø¹Ù… 
        <i class="mdi mdi-chevron-down mdi-drop"></i>
      </a>
      <div class="dropdown-content">
        <a href="https://osesapp.com/afaq-co/support/my-ticket">Ø§Ù„Ø´ÙƒØ§ÙˆÙŠ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙŠ</a>
        <a href="https://osesapp.com/afaq-co/support/ticket">Ø§Ù„Ø´ÙƒØ§ÙˆÙŠ</a>
      </div>
    </div>
    
    <a href="away.html">
      <i class="dripicons-user-group"></i> Ø§Ù„Ø§ÙŠÙˆØ§Ø¡
    </a>
    
    <div class="dropdown">
      <a href="#">
        <i class="dripicons-wallet"></i> Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© 
        <i class="mdi mdi-chevron-down mdi-drop"></i>
      </a>
      <div class="dropdown-content">
        <div class="submenu">
          <a href="https://osesapp.com/afaq-co/sales/settlementRestrictions/create">Ø§Ø¶Ø§ÙØ© Ø³Ù†Ø¯ Ù‚ÙŠØ¯ / ØªØ³ÙˆÙŠÙ‡</a>
          <a href="https://osesapp.com/afaq-co/sales/settlementRestrictions">Ø³Ù†Ø¯Ø§Øª Ø§Ù„Ù‚ÙŠØ¯ / Ø§Ù„ØªØ³ÙˆÙŠÙ‡</a>
          <hr>
          <a href="https://osesapp.com/afaq-co/sales/transactionsOut/create">Ø§Ø¶Ø§ÙØ© Ø³Ù†Ø¯ ØµØ±Ù</a>
          <a href="https://osesapp.com/afaq-co/sales/transactionsOut">Ø³Ù†Ø¯Ø§Øª Ø§Ù„ØµØ±Ù</a>
          <hr>
          <a href="https://osesapp.com/afaq-co/sales/transactionsIn/create">Ø§Ø¶Ø§ÙØ© Ø³Ù†Ø¯ Ù‚Ø¨Ø¶</a>
          <a href="https://osesapp.com/afaq-co/sales/transactionsIn">Ø³Ù†Ø¯Ø§Øª Ø§Ù„Ù‚Ø¨Ø¶</a>
          <hr>
          <a href="https://osesapp.com/afaq-co/sales/accountingTree">Ø´Ø¬Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</a>
          <a href="https://osesapp.com/afaq-co/sales/invoice">Ø§Ù„ÙÙˆØ§ØªÙŠØ±</a>
          <a href="https://osesapp.com/afaq-co/sales/finalAccounts">Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø®ØªØ§Ù…ÙŠØ©</a>
          <hr>
          <a href="https://osesapp.com/afaq-co/accounting/cost-center">Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªÙƒÙ„ÙØ©</a>
          <a href="https://osesapp.com/afaq-co/accounting/currency">Ø§Ù„Ø¹Ù…Ù„Ø§Øª</a>
        </div>
      </div>
    </div>
    
    <div class="dropdown">
      <a href="#">
        <i class="dripicons-wallet"></i> Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠÙ‡ 
        <i class="mdi mdi-chevron-down mdi-drop"></i>
      </a>
      <div class="dropdown-content">
        <div class="submenu">
          <a href="https://osesapp.com/afaq-co/sales/accountStatement">ÙƒØ´Ù Ø­Ø³Ø§Ø¨</a>
          <hr>
          <a href="https://osesapp.com/afaq-co/sales/detailedFinancialRestrictions">Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø§Ù„ÙŠÙ‡ Ø§Ù„ØªÙØµÙŠÙ„ÙŠÙ‡</a>
          <hr>
          <a href="https://osesapp.com/afaq-co/sales/profitsAndLosses">Ø§Ù„Ø§Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø®Ø³Ø§Ø¦Ø±</a>
          <a href="https://osesapp.com/afaq-co/sales/generalBudget">Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠÙ‡ Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠÙ‡</a>
          <hr>
          <a href="https://osesapp.com/afaq-co/sales/trialBalance">Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ù‡</a>
        </div>
      </div>
    </div>
    
    <a href="reports.html">
      <i class="dripicons-document-remove"></i> Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
    </a>
    
    <div class="dropdown">
      <a href="#">
        <i class="dripicons-network-3"></i> Ø±ÙˆØ§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠØ© 
        <i class="mdi mdi-chevron-down mdi-drop"></i>
      </a>
      <div class="dropdown-content">
        <a target="_blank" href="https://visa.mofa.gov.sa/Enjaz/GetMusanedVisaInformation">Ø§Ù„ØªÙÙˆÙŠØ¶ Ø¹Ù„ÙŠ ØªØ§Ø´ÙŠØ±Ø© Ø¹Ù…Ù„ (Ù…Ø³Ø§Ù†Ø¯)</a>
        <a target="_blank" href="https://visa.mofa.gov.sa/Account/Login/CommercialChamber">Ø§Ù„ØªØµØ¯ÙŠÙ‚ Ø¹Ù„ÙŠ Ø§Ù„ØªÙØ§ÙˆÙŠØ¶</a>
        <a target="_blank" href="https://enjazit.com.sa/Enjaz/GetVisaInformation/Person">Ø§Ù„ØªÙÙˆÙŠØ¶ Ø¹Ù„ÙŠ ØªØ§Ø´ÙŠØ±Ø©</a>
        <a target="_blank" href="https://pros.musaned.com.sa/login">Ø¥Ø¯Ø§Ø±Ø© Ù…ÙƒØ§ØªØ¨ Ø§Ù„Ø§Ø³ØªÙ‚Ø¯Ø§Ù…</a>
        <a target="_blank" href="https://www.riyadbank.com/ar/personal-banking/info-tools/iban-generator">Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„ÙŠ Ø§Ù„Ø§ÙŠØ¨Ø§Ù†</a>
        <a target="_blank" href="https://www.date-convert.net/">ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ®</a>
      </div>
    </div>
    
    <a href="#" onclick="toggleLanguage()">
      <i class="fas fa-globe"></i> â€¢ English
    </a>
  </nav>

  <!-- Main Content -->
  <main>
    <h1 class="page-title">
      <i class="fas fa-tachometer-alt"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
    </h1>

    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card clients-card" id="clients-card" onclick="openForm('client')">
        <div class="stat-value">16</div>
        <div class="stat-label">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
        <div class="stat-action">Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</div>
      </div>
      <div class="stat-card approval-card" id="approval-card">
        <div class="stat-value">1</div>
        <div class="stat-label">Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø¹Ù‚ÙˆØ¯</div>
        <div class="stat-action">âœ”ï¸</div>
      </div>
      <div class="stat-card contracts-card" id="contracts-card" onclick="openForm('contract')">
        <div class="stat-value">3</div>
        <div class="stat-label">Ø§Ù„Ø¹Ù‚ÙˆØ¯</div>
        <div class="stat-action">Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯</div>
      </div>
      <div class="stat-card late-contracts-card" id="late-contracts-card">
        <div class="stat-value">1</div>
        <div class="stat-label">Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©</div>
      </div>
      <div class="stat-card cv-card" id="cv-card" onclick="openForm('cv')">
        <div class="stat-value">2</div>
        <div class="stat-label">Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</div>
        <div class="stat-action">Ø¥Ø¶Ø§ÙØ© Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©</div>
      </div>
      <div class="stat-card warranty-card" id="warranty-card" onclick="openForm('worker')">
        <div class="stat-value">1</div>
        <div class="stat-label">ØªØ­Øª Ø§Ù„Ø¶Ù…Ø§Ù†</div>
        <div class="stat-action">Ø¥Ø¶Ø§ÙØ© Ø¹Ø§Ù…Ù„</div>
      </div>
      <div class="stat-card access-card" id="access-card" onclick="openForm('worker')">
        <div class="stat-value">0</div>
        <div class="stat-label">Ø§Ù„ÙˆØµÙˆÙ„</div>
        <div class="stat-action">Ø¥Ø¶Ø§ÙØ© Ø¹Ø§Ù…Ù„</div>
      </div>
      <div class="stat-card accommodation-card" id="accommodation-card" onclick="openForm('accommodation')">
        <div class="stat-value">1</div>
        <div class="stat-label">Ø§Ù„Ø¥ÙŠÙˆØ§Ø¡</div>
        <div class="stat-action">Ø¥Ø¶Ø§ÙØ© Ø¹Ø§Ù…Ù„</div>
      </div>
      <div class="stat-card accounting-card">
        <div class="stat-value">12</div>
        <div class="stat-label">Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©</div>
        <div class="stat-action">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©</div>
      </div>
      <div class="stat-card financial-reports-card">
        <div class="stat-value">5</div>
        <div class="stat-label">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©</div>
        <div class="stat-action">Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div>
      </div>
    </div>

    <!-- Charts -->
    <div class="charts-grid">
      <div class="chart-container">
        <div class="chart-title">
          Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù‚ÙˆØ¯
          <div class="chart-actions">
            <button onclick="toggleChartType('contracts', 'bar')">Ø´Ø±ÙŠØ·</button>
            <button onclick="toggleChartType('contracts', 'pie')">Ø¯Ø§Ø¦Ø±ÙŠ</button>
          </div>
        </div>
        <canvas id="contractsChart"></canvas>
      </div>
      <div class="chart-container">
        <div class="chart-title">
          ØªÙ‚Ø±ÙŠØ± ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ù‚ÙˆØ¯
          <div class="chart-actions">
            <button onclick="toggleChartType('dates', 'line')">Ø®Ø·ÙŠ</button>
            <button onclick="toggleChartType('dates', 'bar')">Ø´Ø±ÙŠØ·</button>
          </div>
        </div>
        <canvas id="datesChart"></canvas>
      </div>
    </div>

    <!-- Contracts Table -->
    <h2>Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h2>
    <table id="contractsTable">
      <thead>
        <tr>
          <th onclick="sortTable(0)">Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ <span class="sort-icon">â‡…</span></th>
          <th onclick="sortTable(1)">Ø±Ù‚Ù… Ø§Ù„Ø¹Ù‚Ø¯ <span class="sort-icon">â‡…</span></th>
          <th onclick="sortTable(2)">Ø§Ù„Ø¬Ù†Ø³ÙŠØ© <span class="sort-icon">â‡…</span></th>
          <th onclick="sortTable(3)">Ø§Ù„Ù…Ù‡Ù†Ø© <span class="sort-icon">â‡…</span></th>
          <th onclick="sortTable(4)">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ù‚Ø¯ <span class="sort-icon">â‡…</span></th>
          <th onclick="sortTable(5)">Ù…Ø¯Ø© Ø§Ù„Ø¹Ù‚Ø¯ <span class="sort-icon">â‡…</span></th>
          <th onclick="sortTable(6)">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª <span class="sort-icon">â‡…</span></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Ø¹Ù„ÙŠ Ø£Ø­Ù…Ø¯</td>
          <td>CT-2024-001</td>
          <td>Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</td>
          <td>Ù…ÙÙ‡Ù†Ø¯Ø³</td>
          <td>2024-01-15</td>
          <td>2 Ø³Ù†Ø©</td>
          <td><button onclick="confirmDelete()">Ø­Ø°Ù</button></td>
        </tr>
        <tr>
          <td>ÙÙ‡Ø¯ Ù…Ø­Ù…Ø¯</td>
          <td>CT-2024-002</td>
          <td>Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</td>
          <td>Ø¹Ø§Ù…Ù„</td>
          <td>2024-02-20</td>
          <td>1 Ø³Ù†Ø©</td>
          <td><button onclick="confirmDelete()">Ø­Ø°Ù</button></td>
        </tr>
        <tr>
          <td>Ø®Ø§Ù„Ø¯ Ø¹Ù„ÙŠ</td>
          <td>000002</td>
          <td>Ø§Ù„ÙÙ„Ø¨ÙŠÙ†</td>
          <td>PONTILA PAMA HAIDELIZA</td>
          <td>2024-01-15</td>
          <td>2 Ø³Ù†Ø©</td>
          <td><button onclick="confirmDelete()">Ø­Ø°Ù</button></td>
        </tr>
        <tr>
          <td>Ø§Ù„Ø¹Ù†Ø²ÙŠ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ²</td>
          <td>000004</td>
          <td>Ø³Ø¹ÙˆØ¯Ù‰</td>
          <td>-</td>
          <td>2024-02-20</td>
          <td>1 Ø³Ù†Ø©</td>
          <td><button onclick="confirmDelete()">Ø­Ø°Ù</button></td>
        </tr>
        <tr>
          <td>Ø§Ù„ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯</td>
          <td>000003</td>
          <td>Ø§Ø«ÙŠÙˆØ¨ÙŠØ§</td>
          <td>MOHAMMED NEIMA SHIKUR</td>
          <td>2024-03-10</td>
          <td>2 Ø³Ù†Ø©</td>
          <td><button onclick="confirmDelete()">Ø­Ø°Ù</button></td>
        </tr>
      </tbody>
    </table>
  </main>

  <!-- Confirmation Modal -->
  <div class="confirmation-modal" id="confirmationModal">
    <div class="confirmation-content">
      <h3>Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ</h3>
      <p>Ù„Ù† ØªØ³ØªØ·ÙŠØ¹ Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ø§Ø­Ù‚Ø§</p>
      <div class="confirmation-buttons">
        <button class="cancel-btn" onclick="hideConfirmation()">Ø¥Ù„ØºØ§Ø¡</button>
        <button class="confirm-btn" onclick="deleteItem()">Ù†Ø¹Ù… Ø§Ù…Ø³Ø­ Ù‡Ø°Ø§</button>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast">ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­!</div>

  <!-- Form Overlay -->
  <div class="form-overlay" id="formOverlay">
    <div class="form-container" id="formContainer">
      <span class="close-btn" onclick="closeForm()">âœ–</span>
      <div id="formContent"></div>
    </div>
  </div>

  <script>
    // Current chart types
    let chartTypes = {
      contracts: 'doughnut',
      dates: 'line'
    };

    // ğŸ Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ (Toast)
    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // â“ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù
    function confirmDelete() {
      document.getElementById('confirmationModal').style.display = 'flex';
    }
    function hideConfirmation() {
      document.getElementById('confirmationModal').style.display = 'none';
    }
    function deleteItem() {
      hideConfirmation();
      showToast("ØªÙ… Ø§Ù„Ù…Ø³Ø­");
    }

    // ğŸŒ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
    function toggleLanguage() {
      const isArabic = document.documentElement.lang === 'ar';
      const newLang = isArabic ? 'en' : 'ar';
      
      // ØªØ­Ø¯ÙŠØ« Ù„ØºØ© Ø§Ù„ØµÙØ­Ø©
      document.documentElement.lang = newLang;
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ
      if (newLang === 'en') {
        document.querySelector('.page-title').textContent = 'Dashboard';
        document.querySelectorAll('th')[0].textContent = 'Client Name';
        document.querySelectorAll('th')[1].textContent = 'Contract Number';
        document.querySelectorAll('th')[2].textContent = 'Nationality';
        document.querySelectorAll('th')[3].textContent = 'Profession';
        document.querySelectorAll('th')[4].textContent = 'Contract Date';
        document.querySelectorAll('th')[5].textContent = 'Duration';
        document.querySelectorAll('th')[6].textContent = 'Actions';
        
        document.querySelector('.stat-label.clients-card').textContent = 'Clients';
        document.querySelector('.stat-action.clients-card').textContent = 'Add Client';
        document.querySelector('.stat-label.contracts-card').textContent = 'Contracts';
        document.querySelector('.stat-action.contracts-card').textContent = 'Add Contract';
        document.querySelector('.chart-title').textContent = 'Contract Statistics';
        
        // ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
        document.querySelectorAll('.nav a')[0].textContent = 'Dashboard';
        document.querySelectorAll('.nav a')[1].textContent = 'Basic';
        document.querySelectorAll('.nav a')[2].textContent = 'Quick Access';
        document.querySelectorAll('.nav a')[3].textContent = 'Support';
        document.querySelectorAll('.nav a')[4].textContent = 'Accommodation';
        document.querySelectorAll('.nav a')[5].textContent = 'Accounting';
        document.querySelectorAll('.nav a')[6].textContent = 'Financial Reports';
        document.querySelectorAll('.nav a')[7].textContent = 'Reports';
        document.querySelectorAll('.nav a')[8].textContent = 'External Links';
        
        // ØªØ­Ø¯ÙŠØ« Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª
        document.querySelectorAll('.file-name').forEach(file => {
          if (file.textContent === 'Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù') {
            file.textContent = 'No file selected';
          }
        });
      } else {
        document.querySelector('.page-title').textContent = 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…';
        document.querySelectorAll('th')[0].textContent = 'Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„';
        document.querySelectorAll('th')[1].textContent = 'Ø±Ù‚Ù… Ø§Ù„Ø¹Ù‚Ø¯';
        document.querySelectorAll('th')[2].textContent = 'Ø§Ù„Ø¬Ù†Ø³ÙŠØ©';
        document.querySelectorAll('th')[3].textContent = 'Ø§Ù„Ù…Ù‡Ù†Ø©';
        document.querySelectorAll('th')[4].textContent = 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ù‚Ø¯';
        document.querySelectorAll('th')[5].textContent = 'Ù…Ø¯Ø© Ø§Ù„Ø¹Ù‚Ø¯';
        document.querySelectorAll('th')[6].textContent = 'Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª';
        
        document.querySelector('.stat-label.clients-card').textContent = 'Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡';
        document.querySelector('.stat-action.clients-card').textContent = 'Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„';
        document.querySelector('.stat-label.contracts-card').textContent = 'Ø§Ù„Ø¹Ù‚ÙˆØ¯';
        document.querySelector('.stat-action.contracts-card').textContent = 'Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯';
        document.querySelector('.chart-title').textContent = 'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù‚ÙˆØ¯';
        
        // ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
        document.querySelectorAll('.nav a')[0].textContent = 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…';
        document.querySelectorAll('.nav a')[1].textContent = 'Ø§Ø³Ø§Ø³ÙŠØ©';
        document.querySelectorAll('.nav a')[2].textContent = 'Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹';
        document.querySelectorAll('.nav a')[3].textContent = 'Ø§Ù„Ø¯Ø¹Ù…';
        document.querySelectorAll('.nav a')[4].textContent = 'Ø§Ù„Ø§ÙŠÙˆØ§Ø¡';
        document.querySelectorAll('.nav a')[5].textContent = 'Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©';
        document.querySelectorAll('.nav a')[6].textContent = 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠÙ‡';
        document.querySelectorAll('.nav a')[7].textContent = 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±';
        document.querySelectorAll('.nav a')[8].textContent = 'Ø±ÙˆØ§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠØ©';
        
        // ØªØ­Ø¯ÙŠØ« Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª
        document.querySelectorAll('.file-name').forEach(file => {
          if (file.textContent === 'No file selected') {
            file.textContent = 'Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù';
          }
        });
      }
      
      // ØªØ­Ø¯ÙŠØ« Ø²Ø± Ø§Ù„Ù„ØºØ©
      const langBtn = document.querySelector('a[href="#"][onclick*="toggleLanguage"]');
      langBtn.innerHTML = newLang === 'en' ? '<i class="fas fa-globe"></i> â€¢ Ø¹Ø±Ø¨ÙŠ' : '<i class="fas fa-globe"></i> â€¢ English';
    }

    // ğŸ“Š ØªØºÙŠÙŠØ± Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
    function toggleChartType(chartId, type) {
      chartTypes[chartId] = type;
      renderCharts();
    }

    // ğŸ“Š Ø±Ø³Ù… Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
    function renderCharts() {
      // Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ
      const contractsCtx = document.getElementById('contractsChart').getContext('2d');
      new Chart(contractsCtx, {
        type: chartTypes.contracts,
        data: {
          labels: ['Ø§Ù„Ø¹Ù‚ÙˆØ¯', 'Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©', 'ØªØ­Øª Ø§Ù„Ø¶Ù…Ø§Ù†', 'Ø§Ù„ÙˆØµÙˆÙ„'],
          datasets: [{
            data: [3, 1, 1, 0],
            backgroundColor: ['#3498db', '#f39c12', '#2ecc71', '#9b59b6'],
            borderWidth: 1,
            borderColor: '#fff',
            cutout: chartTypes.contracts === 'doughnut' ? '60%' : '0%'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false, // Ù…Ù‡Ù… Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø±Ø³Ù… ÙŠÙ…Ù„Ø£ Ø§Ù„Ø­Ø§ÙˆÙŠØ©
          plugins: {
            legend: { position: 'bottom' }
          }
        }
      });

      // Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø§Ù„Ø®Ø·ÙŠ
      const datesCtx = document.getElementById('datesChart').getContext('2d');
      new Chart(datesCtx, {
        type: chartTypes.dates,
        data: {
          labels: ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ', 'ÙŠÙˆÙ„ÙŠÙˆ'],
          datasets: [{
            label: 'Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù‚ÙˆØ¯',
            data: [1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7],
            borderColor: '#3498db',
            backgroundColor: chartTypes.dates === 'bar' ? 'rgba(52, 152, 219, 0.5)' : 'rgba(52, 152, 219, 0.1)',
            tension: chartTypes.dates === 'line' ? 0.4 : 0,
            fill: chartTypes.dates === 'line'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false, // Ù…Ù‡Ù… Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø±Ø³Ù… ÙŠÙ…Ù„Ø£ Ø§Ù„Ø­Ø§ÙˆÙŠØ©
          plugins: {
            legend: { position: 'top' }
          }
        }
      });
    }

    // ğŸ“‹ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ø¯ÙˆÙ„
    let sortDirection = Array(7).fill(true);
    function sortTable(column) {
      const table = document.getElementById("contractsTable");
      const tbody = table.tBodies[0];
      const rows = Array.from(tbody.rows);
      
      // ØªØºÙŠÙŠØ± Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØªØ±ØªÙŠØ¨
      sortDirection[column] = !sortDirection[column];
      const direction = sortDirection[column] ? 1 : -1;
      
      // ØªØ±ØªÙŠØ¨ Ø§Ù„ØµÙÙˆÙ
      rows.sort((a, b) => {
        const aValue = a.cells[column].textContent;
        const bValue = b.cells[column].textContent;
        
        // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ… Ø¥Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù… Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø£Ø±Ù‚Ø§Ù…Ù‹Ø§
        const aNum = parseFloat(aValue.replace(/,/g, ''));
        const bNum = parseFloat(bValue.replace(/,/g, ''));
        
        if (!isNaN(aNum) && !isNaN(bNum)) {
          return (aNum - bNum) * direction;
        }
        
        return aValue.localeCompare(bValue) * direction;
      });
      
      // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ù…Ø±ØªØ¨Ø©
      rows.forEach(row => tbody.appendChild(row));
    }

    // ğŸ“ ÙØªØ­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ / Ø¹Ù‚Ø¯ / Ø³ÙŠØ±Ø©)
    function openForm(type) {
      const formContent = document.getElementById('formContent');
      formContent.innerHTML = '';

      if (type === 'client') {
        formContent.innerHTML = `
          <h2>Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</h2>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø§Ø³Ù…</label>
                <input type="text" id="clientName">
              </div>
              <div>
                <label>Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
                <input type="text" id="clientID">
              </div>
            </div>
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                <input type="text" id="clientAddress">
              </div>
              <div>
                <label>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                <select id="clientNationality">
                  <option>Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                  <option>Ø§Ù„ÙƒÙˆÙŠØª</option>
                  <option>Ù…ØµØ±</option>
                  <option>Ø§Ù„Ø£Ø±Ø¯Ù†</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
            <div class="form-row">
              <div>
                <label>Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©</label>
                <input type="text" id="clientIDNumber">
              </div>
              <div>
                <label>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
                <input type="text" id="clientPhone">
              </div>
            </div>
            <div class="form-row">
              <div>
                <label>Ù…ÙƒØ§Ù† Ø§Ù„Ø¹Ù…Ù„</label>
                <input type="text" id="clientWorkplace">
              </div>
              <div>
                <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label>
                <input type="date" id="clientBirth">
              </div>
            </div>
          </div>
          
          <button onclick="addClient()">Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„</button>
        `;
      } else if (type === 'contract') {
        formContent.innerHTML = `
          <h2>Ø¹Ù‚Ø¯ Ø§Ù„ØªÙˆØ¸ÙŠÙ</h2>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
                <select id="contractClient">
                  <option>Ø§Ø®ØªØ± Ø¹Ù…ÙŠÙ„</option>
                  <option>Ø¹Ù„ÙŠ Ø£Ø­Ù…Ø¯</option>
                  <option>ÙÙ‡Ø¯ Ù…Ø­Ù…Ø¯</option>
                </select>
              </div>
              <div>
                <label>Ø±Ù‚Ù… Ø§Ù„Ø¹Ù‚Ø¯</label>
                <input type="text" id="contractNumber" value="000005" readonly>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                <select id="contractNationality">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</option>
                  <option>Ø§Ù„ÙÙ„Ø¨ÙŠÙ†</option>
                  <option>Ø¥Ø«ÙŠÙˆØ¨ÙŠØ§</option>
                  <option>Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                </select>
              </div>
              <div>
                <label>Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</label>
                <select id="contractCV">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</option>
                  <option>Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© 1</option>
                  <option>Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© 2</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ù‚Ø¯</label>
                <input type="date" id="contractDate">
              </div>
              <div>
                <label>Ù…Ø¯Ø© Ø§Ù„Ø¹Ù‚Ø¯</label>
                <input type="text" id="contractDuration">
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø´ÙŠØ±Ø©</h3>
            <div class="form-row">
              <div>
                <label>Ù†ÙˆØ¹ Ø§Ù„ØªØ£Ø´ÙŠØ±Ø©</label>
                <select id="visaType">
                  <option>Ù†ÙˆØ¹ Ø§Ù„ØªØ£Ø´ÙŠØ±Ø©</option>
                  <option>Ø¹Ù…Ù„</option>
                  <option>Ø²ÙŠØ§Ø±Ø©</option>
                </select>
              </div>
              <div>
                <label>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø´ÙŠØ±Ø©</label>
                <input type="text" id="visaNumber">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø±Ù‚Ù… Ø§Ù„Ø¹Ù‚Ø¯ ÙÙŠ Ù…Ø³Ø§Ù†Ø¯</label>
                <input type="text" id="musanedContractNumber">
              </div>
              <div>
                <label>Ø±Ù‚Ù… Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</label>
                <input type="text" id="passportNumber">
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…Ø±Ø´Ø­ÙˆÙ†</h3>
            <div class="form-row">
              <div>
                <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø´Ø­ÙˆÙ†</label>
                <input type="number" id="candidatesCount" min="1" value="1">
              </div>
              <div>
                <label>Ø§Ù„Ø¹Ù…Ø±</label>
                <input type="number" id="candidateAge" min="18" max="60">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¯ÙŠØ§Ù†Ø©</label>
                <select id="candidateReligion">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙŠØ§Ù†Ø©</option>
                  <option>Ù…Ø³Ù„Ù…</option>
                  <option>Ù…Ø³ÙŠØ­ÙŠ</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ</h3>
            <div class="form-row">
              <div>
                <label>ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø§Ø³ØªÙ‚Ø¯Ø§Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ù‡</label>
                <input type="number" id="directRecruitmentCost" min="0" value="0">
              </div>
              <div>
                <label>ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ£Ù…ÙŠÙ†</label>
                <input type="number" id="insuranceCost" min="0" value="0">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø§Ø³ØªÙ‚Ø¯Ø§Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠÙ‡</label>
                <input type="number" id="externalRecruitmentCost" min="0" value="0">
              </div>
              <div>
                <label>ØªÙƒØ§Ù„ÙŠÙ Ø­ÙƒÙˆÙ…ÙŠØ©</label>
                <input type="number" id="governmentCost" min="0" value="0">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>ØªÙƒØ§Ù„ÙŠÙ Ø¨Ù†ÙƒÙŠÙ‡</label>
                <input type="number" id="bankCost" min="0" value="0">
              </div>
              <div>
                <label>Ø§Ù„Ø¶Ø±ÙŠØ¨Ù‡ %</label>
                <input type="number" id="taxPercentage" min="0" max="100" value="15">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙƒÙ„ÙÙ‡</label>
                <input type="number" id="totalCost" min="0" value="0" readonly>
              </div>
              <div>
                <label>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ£Ø´ÙŠØ±Ø©</label>
                <input type="date" id="visaDate">
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…ØµØ§Ø¯Ø± ÙˆØ§Ù„Ù…ÙƒØ§ØªØ¨</h3>
            <div class="form-row">
              <div>
                <label>Ù…ÙƒØªØ¨ Ø®Ø§Ø±Ø¬ÙŠ</label>
                <select id="externalOffice">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ù…ÙƒØªØ¨</option>
                  <option>PACIFIC STAR INTERNATIONAL</option>
                  <option>ILEL LIQA FOREIGN AGENCY</option>
                </select>
              </div>
              <div>
                <label>Ù…ÙƒØªØ¨ Ø¯Ø§Ø®Ù„ÙŠ</label>
                <select id="internalOffice">
                  <option>Ø§Ø®ØªØ§Ø± Ø§Ù„Ù…ÙƒØªØ¨ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</option>
                  <option>Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                  <option>ÙØ±Ø¹ Ø¬Ø¯Ø©</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ù…ØµØ¯Ø± Ø§Ù„Ø¹Ù‚Ø¯</label>
                <select id="contractSource">
                  <option>Ø­Ø¯Ø¯ Ù…ØµØ¯Ø± Ø§Ù„Ø¹Ù‚Ø¯</option>
                  <option>Ù…Ø³Ø§Ù†Ø¯</option>
                  <option>Ù…ÙƒØªØ¨ Ø®Ø§Øµ</option>
                </select>
              </div>
              <div>
                <label>Ø§Ù„Ù…Ù‡Ù†Ø©</label>
                <select id="profession">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‡Ù†Ø©</option>
                  <option>Ù…ÙÙ‡Ù†Ø¯Ø³</option>
                  <option>Ø¹Ø§Ù…Ù„</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©</h3>
            <div class="form-row">
              <div>
                <label>Ù…ÙƒØ§Ù† Ø§Ù„ÙˆØµÙˆÙ„</label>
                <input type="text" id="arrivalLocation">
              </div>
              <div>
                <label>Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ</label>
                <input type="number" id="monthlySalary" min="0">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ù…Ø·Ø§Ø± Ø§Ù„ÙˆØµÙˆÙ„</label>
                <select id="arrivalAirport">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø·Ø§Ø±</option>
                  <option>Ù…Ø·Ø§Ø± Ø§Ù„Ù…Ù„Ùƒ Ø®Ø§Ù„Ø¯</option>
                  <option>Ù…Ø·Ø§Ø± Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ²</option>
                </select>
              </div>
              <div></div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ù…Ø²Ø§ÙŠØ§</label>
                <select id="termsAndBenefits">
                  <option>Ø­Ø¯Ø¯ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ù…Ø²Ø§ÙŠØ§</option>
                  <option>Ø³ÙƒÙ†</option>
                  <option>Ù…ÙˆØ§ØµÙ„Ø§Øª</option>
                </select>
              </div>
              <div>
                <label>Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª ÙˆØ§Ù„Ø®Ø¨Ø±Ø©</label>
                <select id="qualifications">
                  <option>Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª ÙˆØ§Ù„Ø®Ø¨Ø±Ø©</option>
                  <option>Ø¯Ø¨Ù„ÙˆÙ…</option>
                  <option>Ø¬Ø§Ù…Ø¹Ø©</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ù…Ø±ÙƒØ² Ø§Ù„ØªÙƒÙ„ÙØ©</label>
                <select id="costCenter">
                  <option>Ø­Ø¯Ø¯ Ù…Ø±ÙƒØ² Ø§Ù„ØªÙƒÙ„ÙØ©</option>
                  <option>Ù…Ø±ÙƒØ² 1</option>
                  <option>Ù…Ø±ÙƒØ² 2</option>
                </select>
              </div>
              <div>
                <label>Ø§Ù„Ù…Ø³ÙˆÙ‚</label>
                <select id="marketer">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ÙˆÙ‚</option>
                  <option>Ù…Ø³ÙˆÙ‚ 1</option>
                  <option>Ù…Ø³ÙˆÙ‚ 2</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø£Ø¬Ø±Ø© Ø§Ù„Ù…Ø³ÙˆÙ‚</label>
                <input type="number" id="marketerFee" min="0">
              </div>
              <div>
                <label>ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„</label>
                <input type="date" id="arrivalDate">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>ÙˆÙ‚Øª Ø§Ù„ÙˆØµÙˆÙ„</label>
                <input type="time" id="arrivalTime">
              </div>
              <div>
                <label>Ø´Ø±ÙƒÙ‡ Ø§Ù„Ø·ÙŠØ±Ø§Ù† - Ø±Ù‚Ù… Ø§Ù„Ø±Ø­Ù„Ù‡</label>
                <input type="text" id="flightNumber">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                <textarea id="contractNotes" rows="3"></textarea>
              </div>
            </div>
          </div>
          
          <button onclick="addContract()">Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø¯</button>
        `;
      } else if (type === 'cv') {
        formContent.innerHTML = `
          <h2>Ø¥Ø¶Ø§ÙØ© Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©</h2>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø§Ø³Ù…</label>
                <input type="text" id="cvName">
              </div>
              <div>
                <label>Ø§Ù„Ù…Ù‡Ù†Ø©</label>
                <select id="cvProfession">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‡Ù†Ø©</option>
                  <option>Ù…ÙÙ‡Ù†Ø¯Ø³</option>
                  <option>Ø¹Ø§Ù…Ù„</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                <select id="cvNationality">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</option>
                  <option>Ø§Ù„ÙÙ„Ø¨ÙŠÙ†</option>
                  <option>Ø¥Ø«ÙŠÙˆØ¨ÙŠØ§</option>
                </select>
              </div>
              <div>
                <label>Ø§Ù„Ø¯ÙŠØ§Ù†Ø©</label>
                <select id="cvReligion">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙŠØ§Ù†Ø©</option>
                  <option>Ù…Ø³Ù„Ù…</option>
                  <option>Ù…Ø³ÙŠØ­ÙŠ</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¹Ù…Ø±</label>
                <input type="number" id="cvAge" min="18" max="60">
              </div>
              <div>
                <label>Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</label>
                <select id="cvExperience">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</option>
                  <option>1 Ø³Ù†Ø©</option>
                  <option>3 Ø³Ù†ÙˆØ§Øª</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©</h3>
            <div class="form-row">
              <div>
                <label>Ù…ÙƒØªØ¨</label>
                <select id="cvOffice">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ù…ÙƒØªØ¨</option>
                  <option>PACIFIC STAR INTERNATIONAL</option>
                  <option>ILEL LIQA FOREIGN AGENCY</option>
                </select>
              </div>
              <div>
                <label>Ø±Ù‚Ù… Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</label>
                <input type="text" id="cvPassportNumber">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                <textarea id="cvNotes" rows="3"></textarea>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø­Ø§Ù„Ø©</label>
                <select id="cvStatus">
                  <option>Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
                  <option>Ù…ØªÙˆÙØ±</option>
                  <option>Ù…Ø³ØªØ®Ø¯Ù…</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù</label>
                <div class="file-upload">
                  <input type="file" id="cvFile">
                  <label for="cvFile">Ø§Ø®ØªØ± Ù…Ù„Ù</label>
                  <span class="file-name">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</span>
                </div>
              </div>
            </div>
          </div>
          
          <button onclick="addCV()">Ø¥Ø¶Ø§ÙØ© Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©</button>
        `;
      } else if (type === 'accommodation' || type === 'worker') {
        formContent.innerHTML = `
          <h2>Ø¥Ø¶Ø§ÙØ© Ø¹Ø§Ù…Ù„</h2>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø§Ø³Ù…</label>
                <input type="text" id="workerName">
              </div>
              <div>
                <label>Ø§Ø³Ù… Ø§Ù„ÙƒÙÙŠÙ„</label>
                <input type="text" id="sponsorName">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                <select id="workerNationality">
                  <option>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</option>
                  <option>Ø§Ù„ÙÙ„Ø¨ÙŠÙ†</option>
                  <option>Ø¥Ø«ÙŠÙˆØ¨ÙŠØ§</option>
                </select>
              </div>
              <div>
                <label>Ø±Ù‚Ù… Ø§Ù„Ø­Ø¯ÙˆØ¯</label>
                <input type="text" id="borderNumber">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø±Ù‚Ù… Ø§Ù„Ø§Ù‚Ø§Ù…Ù‡</label>
                <input type="text" id="residenceNumber">
              </div>
              <div>
                <label>Ø§Ù„Ù…Ù‡Ù†Ø©</label>
                <select id="workerProfession">
                  <option>Ø§Ù„Ù…Ù‡Ù†Ø©</option>
                  <option>Ù…ÙÙ‡Ù†Ø¯Ø³</option>
                  <option>Ø¹Ø§Ù…Ù„</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¹Ù…Ø±</label>
                <input type="number" id="workerAge" min="18" max="60">
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®</h3>
            <div class="form-row">
              <div>
                <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ù…Ù„ÙƒÙ‡</label>
                <input type="date" id="kingdomEntryDate">
              </div>
              <div>
                <label>ØªØ§Ø±ÙŠØ® Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù…Ù„Ù‡ Ø§Ù„Ù…ÙƒØªØ¨</label>
                <input type="date" id="officeEntryDate">
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø±Ù‚Ù… Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</label>
                <input type="text" id="workerPassportNumber">
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©</h3>
            <div class="form-row">
              <div>
                <label>Ù…ÙƒØªØ¨</label>
                <select id="workerOffice">
                  <option>Ù…ÙƒØªØ¨</option>
                  <option>PACIFIC STAR INTERNATIONAL</option>
                  <option>ILEL LIQA FOREIGN AGENCY</option>
                </select>
              </div>
              <div>
                <label>Ù†ÙˆØ¹ Ø§Ù„Ø§ÙŠÙˆØ§Ø¡</label>
                <select id="accommodationType">
                  <option>Ù†ÙˆØ¹ Ø§Ù„Ø§ÙŠÙˆØ§Ø¡</option>
                  <option>Ù†ÙˆØ¹ 1</option>
                  <option>Ù†ÙˆØ¹ 2</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ø§Ù„Ø¯ÙŠØ§Ù†Ø©</label>
                <select id="workerReligion">
                  <option>Ø§Ù„Ø¯ÙŠØ§Ù†Ø©</option>
                  <option>Ù…Ø³Ù„Ù…</option>
                  <option>Ù…Ø³ÙŠØ­ÙŠ</option>
                </select>
              </div>
              <div>
                <label>Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ù‡</label>
                <select id="workerExperience">
                  <option>Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ù‡</option>
                  <option>1 Ø³Ù†Ø©</option>
                  <option>3 Ø³Ù†ÙˆØ§Øª</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>ØµÙˆØ±Ø© Ø§Ù„Ø¬ÙˆØ§Ø²</label>
                <div class="file-upload">
                  <input type="file" id="passportFile">
                  <label for="passportFile">Ø§Ø®ØªØ± Ù…Ù„Ù</label>
                  <span class="file-name">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</span>
                </div>
              </div>
              <div>
                <label>Ù…Ø±ÙÙ‚Ø§Øª Ø§Ø®Ø±ÙŠ</label>
                <div class="file-upload">
                  <input type="file" id="otherAttachments">
                  <label for="otherAttachments">Ø§Ø®ØªØ± Ù…Ù„Ù</label>
                  <span class="file-name">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</span>
                </div>
              </div>
            </div>
            
            <div class="form-row">
              <div>
                <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                <textarea id="workerNotes" rows="3"></textarea>
              </div>
            </div>
          </div>
          
          <button onclick="addWorker()">Ø¥Ø¶Ø§ÙØ© Ø¹Ø§Ù…Ù„</button>
        `;
      }

      document.getElementById('formOverlay').style.display = 'flex';
      
      // ØªØ­Ø¯ÙŠØ« Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
      document.querySelectorAll('.file-upload input').forEach(input => {
        input.addEventListener('change', function() {
          const fileName = this.files[0] ? this.files[0].name : 'Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù';
          this.nextElementSibling.nextElementSibling.textContent = fileName;
        });
      });
    }

    // âœ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    function closeForm() {
      document.getElementById('formOverlay').style.display = 'none';
    }

    // ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¹Ù…ÙŠÙ„
    function addClient() {
      const name = document.getElementById('clientName').value;
      const id = document.getElementById('clientID').value;

      if (!name || !id) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
        return;
      }

      let clients = JSON.parse(localStorage.getItem('clients')) || [];
      clients.push({ 
        name, 
        id, 
        address: document.getElementById('clientAddress').value,
        nationality: document.getElementById('clientNationality').value,
        idNumber: document.getElementById('clientIDNumber').value,
        phone: document.getElementById('clientPhone').value,
        workplace: document.getElementById('clientWorkplace').value,
        birth: document.getElementById('clientBirth').value,
        date: new Date().toISOString()
      });
      localStorage.setItem('clients', JSON.stringify(clients));

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
      updateStats();
      
      closeForm();
      showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„");
    }

    // ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¹Ù‚Ø¯
    function addContract() {
      const client = document.getElementById('contractClient').value;
      const number = document.getElementById('contractNumber').value;
      const nationality = document.getElementById('contractNationality').value;
      const cv = document.getElementById('contractCV').value;
      
      if (!client || !number) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
        return;
      }

      let contracts = JSON.parse(localStorage.getItem('contracts')) || [];
      contracts.push({
        client,
        number,
        nationality,
        cv,
        date: document.getElementById('contractDate').value,
        duration: document.getElementById('contractDuration').value,
        visaType: document.getElementById('visaType').value,
        visaNumber: document.getElementById('visaNumber').value,
        musanedContractNumber: document.getElementById('musanedContractNumber').value,
        passportNumber: document.getElementById('passportNumber').value,
        candidatesCount: document.getElementById('candidatesCount').value,
        candidateAge: document.getElementById('candidateAge').value,
        candidateReligion: document.getElementById('candidateReligion').value,
        directRecruitmentCost: document.getElementById('directRecruitmentCost').value,
        insuranceCost: document.getElementById('insuranceCost').value,
        externalRecruitmentCost: document.getElementById('externalRecruitmentCost').value,
        governmentCost: document.getElementById('governmentCost').value,
        bankCost: document.getElementById('bankCost').value,
        taxPercentage: document.getElementById('taxPercentage').value,
        totalCost: document.getElementById('totalCost').value,
        visaDate: document.getElementById('visaDate').value,
        externalOffice: document.getElementById('externalOffice').value,
        internalOffice: document.getElementById('internalOffice').value,
        contractSource: document.getElementById('contractSource').value,
        profession: document.getElementById('profession').value,
        arrivalLocation: document.getElementById('arrivalLocation').value,
        monthlySalary: document.getElementById('monthlySalary').value,
        arrivalAirport: document.getElementById('arrivalAirport').value,
        termsAndBenefits: document.getElementById('termsAndBenefits').value,
        qualifications: document.getElementById('qualifications').value,
        costCenter: document.getElementById('costCenter').value,
        marketer: document.getElementById('marketer').value,
        marketerFee: document.getElementById('marketerFee').value,
        arrivalDate: document.getElementById('arrivalDate').value,
        arrivalTime: document.getElementById('arrivalTime').value,
        flightNumber: document.getElementById('flightNumber').value,
        contractNotes: document.getElementById('contractNotes').value
      });
      localStorage.setItem('contracts', JSON.stringify(contracts));

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
      updateStats();
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„
      loadContractsTable();
      
      closeForm();
      showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù‚Ø¯");
    }

    // ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©
    function addCV() {
      const name = document.getElementById('cvName').value;
      const profession = document.getElementById('cvProfession').value;
      
      if (!name || !profession) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
        return;
      }

      let cvs = JSON.parse(localStorage.getItem('cvs')) || [];
      cvs.push({
        name,
        profession,
        nationality: document.getElementById('cvNationality').value,
        religion: document.getElementById('cvReligion').value,
        age: document.getElementById('cvAge').value,
        experience: document.getElementById('cvExperience').value,
        office: document.getElementById('cvOffice').value,
        passportNumber: document.getElementById('cvPassportNumber').value,
        notes: document.getElementById('cvNotes').value,
        status: document.getElementById('cvStatus').value,
        file: document.querySelector('.file-name').textContent
      });
      localStorage.setItem('cvs', JSON.stringify(cvs));

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
      updateStats();
      
      closeForm();
      showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©");
    }

    // ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¹Ø§Ù…Ù„
    function addWorker() {
      const name = document.getElementById('workerName').value;
      const sponsor = document.getElementById('sponsorName').value;
      
      if (!name) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
        return;
      }

      let workers = JSON.parse(localStorage.getItem('workers')) || [];
      workers.push({
        name,
        sponsor,
        nationality: document.getElementById('workerNationality').value,
        borderNumber: document.getElementById('borderNumber').value,
        residenceNumber: document.getElementById('residenceNumber').value,
        profession: document.getElementById('workerProfession').value,
        age: document.getElementById('workerAge').value,
        kingdomEntryDate: document.getElementById('kingdomEntryDate').value,
        officeEntryDate: document.getElementById('officeEntryDate').value,
        passportNumber: document.getElementById('workerPassportNumber').value,
        office: document.getElementById('workerOffice').value,
        accommodationType: document.getElementById('accommodationType').value,
        religion: document.getElementById('workerReligion').value,
        experience: document.getElementById('workerExperience').value,
        passportFile: document.querySelectorAll('.file-name')[0].textContent,
        otherAttachments: document.querySelectorAll('.file-name')[1].textContent,
        notes: document.getElementById('workerNotes').value
      });
      localStorage.setItem('workers', JSON.stringify(workers));

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
      updateStats();
      
      closeForm();
      showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø§Ù…Ù„");
    }

    // ğŸ“Š ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
    function updateStats() {
      const clients = JSON.parse(localStorage.getItem('clients')) || [];
      const contracts = JSON.parse(localStorage.getItem('contracts')) || [];
      const cvs = JSON.parse(localStorage.getItem('cvs')) || [];
      const workers = JSON.parse(localStorage.getItem('workers')) || [];
      
      document.querySelector('#clients-card .stat-value').textContent = clients.length;
      document.querySelector('#contracts-card .stat-value').textContent = contracts.length;
      document.querySelector('#cv-card .stat-value').textContent = cvs.length;
      document.querySelector('#warranty-card .stat-value').textContent = workers.length;
      document.querySelector('#access-card .stat-value').textContent = workers.length;
      document.querySelector('#accommodation-card .stat-value').textContent = workers.length;
    }

    // ğŸ“‹ ØªØ­Ù…ÙŠÙ„ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù‚ÙˆØ¯
    function loadContractsTable() {
      const contracts = JSON.parse(localStorage.getItem('contracts')) || [];
      const tableBody = document.querySelector('#contractsTable tbody');
      tableBody.innerHTML = '';
      
      contracts.forEach(contract => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${contract.client}</td>
          <td>${contract.number}</td>
          <td>${contract.nationality}</td>
          <td>${contract.profession}</td>
          <td>${contract.date}</td>
          <td>${contract.duration}</td>
          <td><button onclick="confirmDelete()">Ø­Ø°Ù</button></td>
        `;
        tableBody.appendChild(row);
      });
    }

    // ğŸš€ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener("DOMContentLoaded", function () {
      updateStats();
      loadContractsTable();
      renderCharts();
    });
  </script>
</body>
</html>